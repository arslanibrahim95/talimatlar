# =============================================================================
# CLAUDE TALİMAT İŞ GÜVENLİĞİ YÖNETİM SİSTEMİ - LOG ROTATION CONFIGURATION
# =============================================================================

# Application logs
/path/to/your/project/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        # Reload services if needed
        # docker-compose exec nginx nginx -s reload
    endscript
}

# Nginx logs
/path/to/your/project/logs/nginx/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        # Reload Nginx to reopen log files
        docker-compose exec nginx nginx -s reload
    endscript
}

# PostgreSQL logs
/path/to/your/project/logs/postgresql/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Redis logs
/path/to/your/project/logs/redis/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Service logs
/path/to/your/project/logs/auth/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

/path/to/your/project/logs/document/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

/path/to/your/project/logs/analytics/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

/path/to/your/project/logs/notification/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Backup logs
/path/to/your/project/logs/backup*.log {
    weekly
    missingok
    rotate 12
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Monitoring logs
/path/to/your/project/logs/monitor*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Alert logs
/path/to/your/project/logs/alerts.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Cron job logs
/var/log/claude-*.log {
    weekly
    missingok
    rotate 12
    compress
    delaycompress
    notifempty
    create 644 root root
}

# System logs (if running on host)
/var/log/syslog {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        # Reload rsyslog
        systemctl reload rsyslog
    endscript
}

# Docker logs
/var/lib/docker/containers/*/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        # Restart Docker daemon if needed
        # systemctl restart docker
    endscript
}
